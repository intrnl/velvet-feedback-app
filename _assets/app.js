var ye=Object,Ye=Symbol,Le=/\B([A-Z])/g;function Ee(l){return l.replace(Le,"-$1").toLowerCase()}var F=l=>typeof l=="function";var J,C=1,P=2,L=4,pe=8,q=16,V=32,Be=(l,e)=>l.e-e.e,b,h,_,m=0,te,le=0,he=0,B=0,Se=0;function $e(){le++}function De(){if(le>1){le--;return}let l,e=!1;for(;te;){let t=te.sort(Be),n=0,s=t.length;for(te=J,he++;n<s;n++){let i=t[n];if(i.a&=~P,!(i.a&pe)&&Te(i))try{i.f()}catch(a){e||(l=a,e=!0)}}}if(he=0,le--,e)throw l}function Te(l){let e=l.b,t=e.length,n=0,s;for(;n<t;n++)if(s=e[n],s.d>l.d||s.f())return!0;return!1}function Ae(){let l=h.b;if(_){if(we(),m>0){let n=_.length,s=0;for(l.length=m+n;s<n;s++)l[m+s]=_[s]}else l=h.b=_;let e=l.length,t=m;for(;t<e;t++){let n=l[t];h.a&V&&n.k(h)}}else m<h.b.length&&(we(),l.length=m)}function we(){let l=h.b,e=l.length,t=m;for(;t<e;t++)l[t].h(h)}function ke(l){let e=l.b,t=e.length,n=0;for(;n<t;n++)e[n].h(l);e.length=0}var W=class{d=-1;m=-1;g=[];c;constructor(e){let t=this;t.c=e}f(){return!1}k(e){this.g.push(e)}h(e){let n=this.g,s=n.indexOf(e);n.splice(s,1)}peek(){return this.c}get value(){let e=this;return h&&h.i!==e.m&&(e.m=h.i,_?_.push(e):h.b[m]===e?m++:_=[e]),e.c}set value(e){let t=this;if(t.c!==e&&(t.c=e,t.d=++B,he<100)){let n=t.g,s=n.length,i=0;for($e();i<s;i++)n[i].l();De()}}},ne=class extends W{b=[];a=L;n=-1;i=-1;j;constructor(e){super();let t=this;t.j=e}f(){let e=this,t=e.a&=~P;if(t&C||(t&V?!(t&L):e.n===B))return!1;if(e.a=t&~L|C,e.n=B,e.d>-1&&!Te(e))return e.a&=~C,!1;let n=!1,s=h,i=_,a=m,c;try{e.i=Se++,h=e,_=J,m=0,c=e.j(),(t&q||e.c!==c||e.d===-1)&&(n=!0,e.c=c,e.a&=~q,e.d=++B)}catch(o){n=!0,e.c=o,e.a|=q,e.d=++B}return Ae(),h=s,_=i,m=a,e.a&=~C,n}k(e){let t=this;if(t.g.length<1){let n=t.b,s=n.length,i=0;for(t.a|=V;i<s;i++)n[i].k(t)}super.k(e)}h(e){let t=this;if(super.h(e),t.g.length<1){let n=t.b,s=n.length,i=0;for(t.a&=~V;i<s;i++)n[i].h(t)}}l(){let e=this;if(!(e.a&(P|C))){let t=e.g,n=t.length,s=0;for(e.a|=L|P;s<n;s++)t[s].l()}}peek(){let e=this;if(e.f(),e.a&q)throw e.c;return e.c}get value(){let e=this;if(e.f(),e.a&q)throw super.value;return super.value}set value(e){super.value=e}},se=class{d=0;i=-1;b=[];a=V;e=0;j;constructor(e){let t=this;t.j=e}f(){let e=this,t=e.a;if(t&C)return;e.d=B,e.i=Se++,e.a=t&~L|C;let n=h,s=_,i=m;try{$e(),h=e,_=J,m=0,e.j()}finally{Ae(),h=n,_=s,m=i,e.a&=~C,e.a&pe&&ke(e),De()}}l(){let e=this;e.a&(P|C)||(e.a|=L|P,(te||=[]).push(e))}o(){let e=this;e.a|=pe,e.a&C||ke(e)}},Q=class{constructor(e){let t=this;t.scopes=[],t.cleanups=[],t.parent=J,t.e=0,!e&&b&&(t.parent=b,t.e=b.e+1,b.scopes.push(t))}run(e){let t=b;try{return b=this,e()}finally{b=t}}clear(){let e=this,t=e.scopes,n=e.cleanups;for(let s of t)s.clear(),s.parent=J;for(let s of n)s();t.length=0,n.length=0}};function z(l){return new Q(l)}function X(l){F(l)&&b&&b.cleanups.push(l)}function w(l){return new W(l)}function ge(l){return new ne(l)}function d(l){let e=new se(l),t=e.o.bind(e);try{e.f()}catch(n){throw t(),n}return b&&e.b.length>0&&(e.e=b.e,b.cleanups.push(t)),t}var Pe=!1,Ke=1;var K=null,me=Ye(),ie=class extends HTMLElement{$m=!1;$c=z(!0);$p={};$h=[];constructor(){super();let e=this,t=e.$p,n=e.constructor.$d;for(let s in n){let i=n[s];t[i]=w(me)}}connectedCallback(){let e=this;if(!e.$m){e.$m=!0;let t=e.constructor.$c,n=e.constructor.$s,s=e.$c,i=e.$h,a=e.shadowRoot;a||(a=e.attachShadow({mode:"open"}),a.adoptedStyleSheets=n);let c=K;try{K=e,s.run(()=>t(a,e));for(let o=0,p=i.length;o<p;o++){let x=i[o],u=x();F(u)&&s.cleanups.push(u)}i.length=0}finally{K=c}}}disconnectedCallback(){let e=this;e.$m&&(e.$c.clear(),e.shadowRoot.innerHTML="",e.$m=!1)}attributeChangedCallback(e,t,n){let s=this,i=s.constructor.$d;e in i&&(s.$p[i[e]].value=n===""?!0:n)}};function N(l,e,t,n){let s=[],i=ye.create(null);class a extends ie{static observedAttributes=s;static $c=e;static $a=i;static $d=t;static $s=n}for(let c in t){let o=t[c],p=Ee(c);i[p]=c,s.push(p),ye.defineProperty(a.prototype,c,{get(){return this.$p[o].c},set(x){this.$p[o].value=x}})}return Pe&&(l="velvet-"+Ke++),l&&customElements.define(l,a),a}function O(l){let e=new CSSStyleSheet;return e.replaceSync(l),e}function ve(l,e){let t=K.$p[l];return t.value===me&&(t.value=F(e)?e():e),t}function re(){let l=K;return(e,t)=>{let n=new CustomEvent(e,{detail:t,bubbles:!1});l.dispatchEvent(n)}}function be(l,e,t){let n=t&&ge(t),s=e(l,n&&n.value);if(s&&(F(s.destroy)&&X(()=>s.destroy()),n&&n.b&&F(s.update))){let i=!1;d(()=>{let a=n.value;if(!i){i=!0;return}s.update(a)})}}function D(l,e){let t=document.createElement("template");if(t.innerHTML=l,e){let n=t.content,s=n.firstChild,i;for(s.remove();i=s.firstChild;)n.appendChild(i)}return t}function T(l){return document.importNode(l.content,!0)}function r(l){return l.firstChild}function f(l){return l.nextSibling}function R(l,e,t){if(l.replaceWith(e),t){let n;for(;n=l.firstChild;)e.appendChild(n)}}function A(l,e){l.append(e)}function G(l,e){l.after(e)}function Me(l,e){let t=l;if(e.nextSibling!==l)for(;t;){let n=t;if(t=t.nextSibling,n.remove(),n===e)break}}function U(l,e,t,n){l.addEventListener(e,t,n)}function k(l,e,t){l.classList.toggle(e,t)}function H(l,e,t){let n=document.createTextNode("");t(l,n),d(()=>n.data=e())}function Ce(l,e){let t=z(),n,s;d(()=>{let i=e();i!==n&&(s&&(t.clear(),xe(l,s),s=null),n=i,i&&(s=t.run(()=>i(l))))})}function Ne(l,e,t,n){let s=[],i=b.a+1,a=null;d(()=>{let c=t(),o=0,p=c.length,x=s.length;if(n&&a&&p>0){let u=a[0],E=a[1];u.clear(),xe(l,E),a=null}for(;o<p;o++)if(s[o]){let u=s[o][2];u.value=c[o]}else{let u=s[o-1],E=u?u[1]:l,y=w(c[o]),S=z(!0);S.a=i,s[o]=[S,S.run(()=>e(E,y,o)),y]}if(x>p){let u=s[o-1],E=u?u[1]:l,y=s[x-1][1];for(;o<x;o++)s[o][0].clear();xe(E,y),s.length=p}if(n&&!a&&p<1){let u=z(!0);u.a=i,a=[u,u.run(()=>n(l))]}}),X(()=>{for(let c=0,o=s.length;c<o;c++)s[c][0].clear()})}function xe(l,e){Me(l.nextSibling,e)}var Qe=D("<div class=score><button class=button value=1>1</button><button class=button value=2>2</button><button class=button value=3>3</button><button class=button value=4>4</button><button class=button value=5>5</button><button class=button value=6>6</button><button class=button value=7>7</button><button class=button value=8>8</button><button class=button value=9>9</button><button class=button value=10>10</button></div>"),Xe=O(".score{display:grid;grid-auto-flow:column;grid-auto-columns:36px;grid-auto-rows:36px;justify-content:space-around}.button{cursor:pointer;user-select:none;background-color:#e8e8f8;font-weight:600;border:0;border-radius:50%}.button:hover{background-color:#cecede}.button.selected{color:#fff;background-color:#4c4cc8}");function et(l,e){let t=re(),n=ve(0,null);function s(fe){let de=fe.target.value;if(de){let ee=parseInt(de);t("update:value",ee)}}let i=T(Qe),a=r(i),c=r(a),o=r(c),p=f(c),x=r(p),u=f(p),E=r(u),y=f(u),S=r(y),j=f(y),I=r(j),g=f(j),$=r(g),v=f(g),M=r(v),Y=f(v),ce=r(Y),Z=f(Y),je=r(Z),ue=f(Z),_e=r(ue);U(a,"click",s),d(()=>k(c,"selected",n.value===1)),d(()=>k(p,"selected",n.value===2)),d(()=>k(u,"selected",n.value===3)),d(()=>k(y,"selected",n.value===4)),d(()=>k(j,"selected",n.value===5)),d(()=>k(g,"selected",n.value===6)),d(()=>k(v,"selected",n.value===7)),d(()=>k(Y,"selected",n.value===8)),d(()=>k(Z,"selected",n.value===9)),d(()=>k(ue,"selected",n.value===10)),A(l,i)}var Oe=N("x-score-selector",et,{value:0},[Xe]);function ae(){return crypto.randomUUID()}var oe=w([{id:ae(),message:"The service is great!",score:10,date:new Date("2022-08-10T06:57:00Z")},{id:ae(),message:"The service was okay",score:6,date:new Date("2022-07-20T13:00:00Z")}]);var tt=D("<form><label for=field>How would you rate our services?</label><x></x><div class=input-group><input id=field type=text placeholder='The service is...'autofocus><button type=submit>Add</button></div></form>"),lt=D("<p class=error></p>"),nt=O("form{background-color:#fff;padding:16px;border-radius:4px}label{font-weight:600;display:block;margin-bottom:8px}.input-group{display:flex;gap:8px;margin-top:16px}button,input{height:36px;box-sizing:border-box;outline-width:2px;outline-color:#d42560}input{flex-grow:1;padding:4px 8px;border:1px solid #989898;border-radius:4px}button{cursor:pointer;user-select:none;color:#fff;background-color:#e25b88;padding:4px 16px;border:0;border-radius:4px;outline-offset:2px}button:hover{background-color:#ea86a7}.error{font-size:14px;color:#ed143d;margin:8px 0 0}");function st(l,e){let t=w(""),n=w(null),s=w(null),i=oe;function a($){$.preventDefault();let v=t.value.trim();if(v.length<1){s.value="You need to fill out the feedback message!";return}if(n.value==null){s.value="You need to give a score!";return}let M={id:ae(),message:v,score:n.value,date:new Date};i.value=[M,...i.value],t.value="",n.value=null,s.value=null}let c=T(tt),o=r(c),p=r(o),x=r(p),u=f(p),E=new Oe,y=f(u),S=r(y),I=r(f(S)),g=$=>{let v=T(lt),M=r(v);return H(M,()=>s.value,A),G($,v),M};U(o,"submit",a),d(()=>E.value=n.value),U(E,"update:value",$=>n.value=$.detail),R(u,u=E,!1),d(()=>S.value=t.value),U(S,"input",()=>t.value=S.value),Ce(y,()=>s.value?g:null),A(l,c)}var Re=N("x-feedback-form",st,{},[nt]);function it(l){let e=Math.abs(l);return e<1e3?[0,"second"]:e<6e4?[Math.trunc(l/1e3),"second"]:e<36e5?[Math.trunc(l/6e4),"minute"]:e<864e5?[Math.trunc(l/36e5),"hour"]:e<6048e5?[Math.trunc(l/864e5),"day"]:e<24192e5?[Math.trunc(l/6048e5),"week"]:e<290304e5?[Math.trunc(l/24192e5),"month"]:[Math.trunc(l/290304e5),"year"]}function rt(l){let e=Math.abs(l);return e<6e4?1e3:e<36e5?6e4:e<864e5?36e5:864e5}function Ue(l,e){let t=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),n,s=()=>{if(e==null){l.textContent="N/A",l.removeAttribute("datetime");return}let i=new Date(e),a=i.getTime(),c=Date.now(),o=a-c,[p,x]=it(o),u=t.format(p,x);l.textContent=u,l.setAttribute("datetime",i.toISOString()),n=setTimeout(s,rt(o))};return s(),{update(i){e=i,clearTimeout(n),s()},destroy(){clearTimeout(n)}}}var at=D("<div class=aggregate><span><!> feedback posted</span><span><!> average rating</span></div><ul class=list><!></ul>"),ot=D("<li class=item><div class=body><div class=header><span>rated </span><span>posted <time></time></span></div><p class=text></p></div> <button class=delete-btn><svg class=delete-icon fill=none viewBox='0 0 24 24'stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d='M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16'></svg></button></li>"),ct=O(".aggregate{color:#fff;display:flex;justify-content:space-between;gap:8px;padding:0 16px 8px}.list{list-style-type:none;padding:0;margin:0}.item{display:flex;gap:8px;background-color:#fff;padding:8px 12px 8px 16px;border-radius:4px}.item+.item{margin-top:8px}.body{flex-grow:1}.header{color:#656570;font-size:14px;display:flex;justify-content:space-between;gap:8px;margin-bottom:2px}.text{margin:0}.delete-btn{background-color:transparent;height:24px;width:24px;padding:0;margin:0;border:0;border-radius:4px}.delete-btn:hover{color:#fff;background-color:#ed143d}.delete-icon{height:16px;width:16px;vertical-align:middle}");function ut(l,e){let t=oe;function n(I){t.value=t.value.filter(g=>g.id!==I.id)}let s=w(0);d(()=>{let I=0,g=t.value.length;if(!g)s.value=0;else{for(let M of t.value)I+=M.score;let $=I/g,v=Math.trunc($*100)/100;s.value=v}});let i=T(at),a=r(i),c=r(a),o=r(c),p=f(o),u=r(f(c)),E=f(u),S=r(f(a)),j=(I,g)=>{let $=T(ot),v=r($),M=r(v),Y=r(M),ce=r(Y),Z=r(ce),_e=f(r(f(ce))),fe=f(Y),ee=f(f(M)),mt=r(r(ee));return H(Z,()=>g.value.score,G),be(_e,Ue,()=>g.value.date),H(fe,()=>g.value.message,A),U(ee,"click",()=>n(g.value)),G(I,$),v};H(o,()=>t.value.length,R),H(u,()=>s.value,R),Ne(S,j,()=>t.value),A(l,i)}var Ie=N("x-feedback-list",ut,{},[ct]);var ft=D("<main><x></x><x></x></main>"),dt=O("main{display:flex;flex-direction:column;gap:16px;max-width:600px;margin:36px auto}");function pt(l,e){let t=T(ft),s=r(r(t)),i=new Re,a=f(s),c=new Ie;R(s,s=i,!1),R(a,a=c,!1),A(l,t)}var He=N("x-app",pt,{},[dt]);var ht=new He;document.body.appendChild(ht);
//# sourceMappingURL=app.js.map
